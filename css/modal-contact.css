:root{
    --m-bg-overlay: rgba(13,18,30,0.55);
    --m-blur: 3px;
    --m-card-bg:#FFFFFF;
    --m-radius:16px;
    --m-shadow:0 10px 30px rgba(0,0,0,.08);
    --m-inner-pad:24px;
    --m-title-color:#0B1220;
    --m-text:#030A1B;
    --m-border:#E6E8EE;
    --m-placeholder:#9AA3B2;
    --m-blue:#2F6BFF;
    --m-blue-press:#2a60e6;
    --m-error:#E05252;
}

.has-modal{ /* навешивается на body */
    overflow:hidden;
    padding-right: var(--scrollbar-comp, 0px);
}

.m-overlay[hidden]{
    display:none !important;
}

.m-overlay{
    position:fixed;
    inset:0;
    background:var(--m-bg-overlay);
    backdrop-filter: blur(var(--m-blur));
    display:grid;
    place-items:center;
    padding:16px;
    opacity:0;
    transition:opacity .18s ease;
}

.m-overlay.is-visible{ opacity:1; }

.m-dialog{
    width:min(100%, 480px);
    background:var(--m-card-bg);
    border-radius:var(--m-radius);
    box-shadow:var(--m-shadow);
    padding:var(--m-inner-pad);
    position:relative;
    transform:translateY(8px);
    transition:transform .18s ease;
}

.m-overlay.is-visible .m-dialog{ transform:translateY(0); }

@media (min-width:480px){
    .m-dialog{ padding:32px; }
}

.m-close{
    position:absolute;
    top:12px; right:12px;
    width:32px; height:32px;
    border-radius:8px;
}
.m-close::before,.m-close::after{
    content:""; position:absolute; left:50%; top:50%; width:18px; height:2px; background:#1b2430; border-radius:2px; transform-origin:center;}
.m-close::before{ transform:translate(-50%,-50%) rotate(45deg);} 
.m-close::after{ transform:translate(-50%,-50%) rotate(-45deg);} 
.m-close:hover{ background:rgba(0,0,0,.04);} 
.m-close:focus{ outline: none; box-shadow:0 0 0 4px rgba(47,107,255,.15);} 

.m-title{
    font-family: inherit;
    font-weight:800;
    font-size:26px;
    line-height:1.3;
    text-align:center;
    color:var(--m-title-color);
    margin:8px 0 16px;
}
@media (min-width:480px){ .m-title{ font-size:28px; margin-top:4px; } }

.m-form{ display:flex; flex-direction:column; gap:16px; }
.m-field{ display:flex; flex-direction:column; gap:8px; }
.m-field-label{ font-size:14px; color:#1c2430; }

.m-input{
    height:56px;
    border-radius:12px;
    border:1px solid var(--m-border);
    padding:0 16px;
    font-size:16px;
    color:var(--m-text);
    background:#fff;
}
.m-input::placeholder{ color:var(--m-placeholder); }
.m-input:focus{ outline:none; box-shadow:0 0 0 4px rgba(47,107,255,.15); }
.m-input.is-invalid{ border-color: var(--m-error); }
.m-input.is-invalid:focus{ box-shadow:0 0 0 4px rgba(224,82,82,.15); }

.m-error{ min-height:16px; font-size:12.5px; color:var(--m-error); margin-top:2px; }
.m-error--global{ margin-top:8px; }

.m-legend{ font-size:14px; margin-bottom:8px; color:#1c2430; padding-left:4px; padding-right:4px; }
.m-segment-grid{ display:grid; grid-template-columns:repeat(3, 1fr); gap:8px; }
.m-segment-item{ position:relative; }
.m-segment-item input{ position:absolute; inset:0; opacity:0; }
.m-segment-item span{
    display:flex; align-items:center; justify-content:center;
    height:40px; border-radius:12px; border:1px solid var(--m-border);
    background:#F6F7FB; color:#0c1424; font-weight:500; transition:background .15s ease, color .15s ease, border-color .15s ease;
}
.m-segment-item:hover span{ filter:brightness(0.97); }
.m-segment-item input:focus + span{ box-shadow:0 0 0 4px rgba(47,107,255,.15); }
.m-segment-item input:checked + span{ background:var(--m-blue); color:#fff; border-color:var(--m-blue); }

.m-agree{ margin-top:4px; }
.m-checkbox{ display:flex; align-items:center; gap:10px; }
.m-checkbox input{ position:absolute; opacity:0; }
.m-checkbox-box{ width:20px; height:20px; border:1px solid var(--m-border); border-radius:6px; display:inline-block; background:#fff; position:relative; }
.m-checkbox input:checked + .m-checkbox-box{ background:var(--m-blue); border-color:var(--m-blue); }
.m-checkbox input:checked + .m-checkbox-box::after{ content:""; position:absolute; left:5px; top:2px; width:8px; height:12px; border:2px solid #fff; border-top:none; border-left:none; transform:rotate(45deg); }
.m-checkbox-label{ font-size:14px; color:#1c2430; }
.m-privacy{ color:var(--m-blue); text-decoration:none; }
.m-privacy:hover{ text-decoration:underline; }

.m-submit{
    height:56px; width:100%; border-radius:12px; background:var(--m-blue); color:#fff; font-weight:600; font-size:16px; transition:filter .15s ease, background .15s ease; cursor:pointer;
}
.m-submit:hover{ filter:brightness(0.96); }
.m-submit:active{ background:var(--m-blue-press); }
.m-submit[disabled]{ opacity:.5; pointer-events:none; cursor:not-allowed; }

@media (max-width:479.98px){
    .m-dialog{ width:100%; }
}

/* Success Modal Styles */
.success-overlay[hidden]{
    display:none !important;
}

.success-overlay{
    position:fixed;
    inset:0;
    background:var(--m-bg-overlay);
    backdrop-filter: blur(var(--m-blur));
    display:grid;
    place-items:center;
    padding:16px;
    opacity:0;
    transition:opacity .18s ease;
}

.success-overlay.is-visible{ 
    opacity:1; 
}

.success-dialog{
    width:min(100%, 400px);
    background:var(--m-card-bg);
    border-radius:var(--m-radius);
    box-shadow:var(--m-shadow);
    padding:var(--m-inner-pad);
    position:relative;
    transform:translateY(8px);
    transition:transform .18s ease;
}

.success-overlay.is-visible .success-dialog{ 
    transform:translateY(0); 
}

@media (min-width:480px){
    .success-dialog{ 
        padding:32px; 
    }
}

.success-close{
    position:absolute;
    top:12px; 
    right:12px;
    width:32px; 
    height:32px;
    border-radius:8px;
    background:transparent;
    border:none;
    cursor:pointer;
}

.success-close::before,
.success-close::after{
    content:"";
    position:absolute;
    left:50%;
    top:50%;
    width:18px;
    height:2px;
    background:#1b2430;
    border-radius:2px;
    transform-origin:center;
}

.success-close::before{ 
    transform:translate(-50%,-50%) rotate(45deg);
} 

.success-close::after{ 
    transform:translate(-50%,-50%) rotate(-45deg);
} 

.success-close:hover{ 
    background:rgba(0,0,0,.04);
} 

.success-close:focus{ 
    outline: none; 
    box-shadow:0 0 0 4px rgba(47,107,255,.15);
} 

.success-content{
    display:flex;
    flex-direction:column;
    align-items:center;
    text-align:center;
    gap:16px;
}

.success-icon{
    display:flex;
    align-items:center;
    justify-content:center;
    width:80px;
    height:80px;
    border-radius:50%;
    background:#F0FDF4;
    margin-bottom:8px;
}

.success-title{
    font-family: inherit;
    font-weight:800;
    font-size:24px;
    line-height:1.3;
    color:var(--m-title-color);
    margin:0;
}

@media (min-width:480px){ 
    .success-title{ 
        font-size:26px; 
    } 
}

.success-message{
    font-size:16px;
    line-height:1.5;
    color:var(--m-text);
    margin:0;
    max-width:320px;
}

.success-button{
    height:48px;
    min-width:140px;
    border-radius:12px;
    background:var(--m-blue);
    color:#fff;
    font-weight:600;
    font-size:16px;
    border:none;
    cursor:pointer;
    transition:filter .15s ease, background .15s ease;
    margin-top:8px;
}

.success-button:hover{ 
    filter:brightness(0.96); 
}

.success-button:active{ 
    background:var(--m-blue-press); 
}

.success-button:focus{ 
    outline:none; 
    box-shadow:0 0 0 4px rgba(47,107,255,.15); 
}

@media (max-width:479.98px){
    .success-dialog{ 
        width:100%; 
    }
}

